(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{28:function(t,e,a){},29:function(t,e,a){},35:function(t,e,a){"use strict";a.r(e);var i=a(1),n=a(0),s=a.n(n),l=a(14),o=a.n(l),c=(a(28),a(6)),d=a(7),r=a(3),h=a(9),u=a(8);a(29);function m(t){return Object(i.jsxs)("div",{className:"d-flex justify-content-between header mb-5 position-fixed",children:[Object(i.jsxs)("h1",{className:"ml-5 my-3 mont white",children:[Object(i.jsx)("i",{className:"fas fa-paint-brush blue"}),"  Kanvas"]}),Object(i.jsx)("h4",{className:"mr-5 my-3 mb-2",children:Object(i.jsx)("i",{onClick:function(){return t.handleDisplay()},className:"fas fa-question-circle help white"})})]})}var b=a(21),g=a(15),p=a(10),j=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).state={id:i.props.id,title:i.props.title,content:i.props.description,imageBase64String:i.props.imageBase64String,taskTitleEditing:!1,taskContentEditing:!1},i.editTaskTitle=i.editTaskTitle.bind(Object(r.a)(i)),i.doneEditingTaskTitle=i.doneEditingTaskTitle.bind(Object(r.a)(i)),i.editTaskContent=i.editTaskContent.bind(Object(r.a)(i)),i.doneEditingTaskContent=i.doneEditingTaskContent.bind(Object(r.a)(i)),i.handleChange=i.handleChange.bind(Object(r.a)(i)),i.handleClickDelete=i.handleClickDelete.bind(Object(r.a)(i)),i.loadFile=i.loadFile.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"editTaskTitle",value:function(){this.setState({taskTitleEditing:!0})}},{key:"editTaskContent",value:function(){this.setState({taskContentEditing:!0})}},{key:"doneEditingTaskTitle",value:function(t,e,a,i){var n={id:t,title:e,content:a,imageBase64String:i};this.props.changeItems(t,n),this.setState({taskTitleEditing:!1})}},{key:"doneEditingTaskContent",value:function(t,e,a,i){var n={id:t,title:e,content:a,imageBase64String:i};this.props.changeItems(t,n),this.setState({taskTitleEditing:!1}),this.setState({taskContentEditing:!1})}},{key:"loadFile",value:function(t){var e=this,a=new FileReader;a.onload=function(){var t=a.result.replace("data:","").replace(/^.+,/,"");e.setState({imageBase64String:t}),e.doneEditingTaskContent(e.props.id,e.state.title,e.state.content,t)},a.readAsDataURL(t)}},{key:"handleClickDelete",value:function(t){this.setState({imageBase64String:""}),this.doneEditingTaskContent(this.props.id,this.state.title,this.state.content,"")}},{key:"handleChange",value:function(t){"image"===t.target.id?t.target.files&&t.target.files[0]&&this.loadFile(t.target.files[0]):this.setState(Object(p.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){var t=this,e=Object(i.jsx)("div",{className:"input-group mt-2 mb-3",children:Object(i.jsxs)("div",{className:"custom-file",children:[Object(i.jsx)("input",{type:"file",accept:"image/*",className:"custom-file-input",id:"image",name:"image",value:this.state.image,onChange:this.handleChange}),Object(i.jsx)("label",{className:"custom-file-label",htmlFor:"image",children:"Choose Image"})]})}),a=Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{type:"button",className:"close pink-hover",id:this.props.id,onClick:this.handleClickDelete,children:Object(i.jsx)("span",{children:"\xd7"})}),Object(i.jsx)("img",{src:"data:image/png;base64,"+this.state.imageBase64String,className:"task-image rounded img-fluid img-thumbnail",alt:this.props.id})]});return Object(i.jsx)("div",{className:"backdrop d-flex",children:Object(i.jsxs)("div",{className:"modal-contents m-auto bg-white border rounded p-3 task-modal",children:[Object(i.jsx)("div",{className:"d-flex justify-content-end",children:Object(i.jsx)("div",{onClick:this.props.closeModal,children:Object(i.jsx)("i",{className:"far fa-times-circle modal-close"})})}),this.state.taskTitleEditing?Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{name:"title",type:"text",className:"w-100 border-noborder",value:this.state.title,onChange:this.handleChange}),Object(i.jsx)("button",{onClick:function(){return t.doneEditingTaskTitle(t.props.id,t.state.title,t.state.content,t.state.imageBase64String)},children:"Done"})]}):Object(i.jsx)("h6",{onClick:this.editTaskTitle,children:this.state.title}),this.state.taskContentEditing?Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{name:"content",type:"text",className:"w-100 border-noborder",value:this.state.content,onChange:this.handleChange}),Object(i.jsx)("button",{onClick:function(){return t.doneEditingTaskContent(t.props.id,t.state.title,t.state.content,t.state.imageBase64String)},children:"Done"})]}):Object(i.jsx)("p",{onClick:this.editTaskContent,children:this.state.content}),this.state.imageBase64String?a:e]})})}}]),a}(s.a.Component),k=a(11),v=a(12),O=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).state={title:i.props.title,content:i.props.content,imageBase64String:i.props.imageBase64String,taskTitleEditing:!1,taskContentEditing:!1},i.editTaskTitle=i.editTaskTitle.bind(Object(r.a)(i)),i.doneEditingTaskTitle=i.doneEditingTaskTitle.bind(Object(r.a)(i)),i.editTaskContent=i.editTaskContent.bind(Object(r.a)(i)),i.doneEditingTaskContent=i.doneEditingTaskContent.bind(Object(r.a)(i)),i.handleChange=i.handleChange.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(t){var e=null,a=null;this.props.title!==t.title?(a="title",e=this.props.title,this.setState(Object(p.a)({},a,e))):this.props.content!==t.content?(a="content",e=this.props.content,this.setState(Object(p.a)({},a,e))):this.props.imageBase64String!==t.imageBase64String&&(a="imageBase64String",e=this.props.imageBase64String,this.setState(Object(p.a)({},a,e)))}},{key:"editTaskTitle",value:function(){this.setState({taskTitleEditing:!0})}},{key:"editTaskContent",value:function(){this.setState({taskContentEditing:!0})}},{key:"doneEditingTaskTitle",value:function(t,e,a,i){var n={id:t,title:e,content:a,imageBase64String:i};this.props.changeItems(t,n),this.setState({taskTitleEditing:!1})}},{key:"doneEditingTaskContent",value:function(t,e,a,i){var n={id:t,title:e,content:a,imageBase64String:i};this.props.changeItems(t,n),this.setState({taskTitleEditing:!1}),this.setState({taskContentEditing:!1})}},{key:"handleChange",value:function(t){this.setState(Object(p.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){var t=this,e=Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("img",{src:"data:image/png;base64,"+this.state.imageBase64String,className:"task-image rounded img-fluid img-thumbnail mb-3 mx-auto",alt:this.props.id,style:{maxHeight:"7rem",margin:"auto"}})});return Object(i.jsxs)("div",{children:[this.state.taskTitleEditing?Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{name:"title",type:"text",className:"w-100 border-noborder",value:this.state.title,onChange:this.handleChange}),Object(i.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(){return t.doneEditingTaskTitle(t.props.id,t.state.title,t.state.content,t.state.imageBase64String)},children:"Done"})]}):Object(i.jsx)("h6",{onClick:this.editTaskTitle,children:this.state.title}),this.state.taskContentEditing?Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{name:"content",type:"text",className:"w-100 border-noborder",value:this.state.content,onChange:this.handleChange}),Object(i.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(){return t.doneEditingTaskContent(t.props.id,t.state.title,t.state.content,t.state.imageBase64String)},children:"Done"})]}):Object(i.jsx)("p",{onClick:this.editTaskContent,children:this.state.content}),this.state.imageBase64String?e:Object(i.jsx)(i.Fragment,{})]})}}]),a}(s.a.Component),f=a(13),C=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).handleClick=i.handleClick.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"makeMoveResult",value:function(t,e,a,i){return{combine:null,destination:{droppableId:i,index:0},draggableId:e,mode:"FLUID",reason:"DROP",source:{index:t,droppableId:a},type:"droppableSubItem"}}},{key:"handleClick",value:function(t,e){if("delete"===e.action)this.props.delete(this.props.id,this.props.columnId);else if("move"===e.action){var a=e.taskIndex,i=e.taskId,n=e.currentColumnId,s=e.targetColumnId,l=this.makeMoveResult(a,i,n,s);this.props.moveTo(l)}}},{key:"getColumnAvailibleToMove",value:function(){var t=this,e=this.props.columnList;return e.filter((function(a,i){return a[0]===t.props.columnId&&e.splice(i,1),!0})),e}},{key:"render",value:function(){var t=this;return Object(i.jsx)("div",{children:Object(i.jsxs)(f.a,{id:this.props.id,children:[Object(i.jsx)(f.c,{data:{action:"delete"},onClick:this.handleClick,attributes:{className:"custom-root"},children:"Delete"}),Object(i.jsx)(f.c,{divider:!0}),this.getColumnAvailibleToMove().map((function(e,a){return Object(i.jsx)(f.c,{data:{action:"move",taskIndex:"".concat(t.props.index),taskId:"".concat(t.props.id),currentColumnId:"".concat(t.props.columnId),targetColumnId:e[0]},onClick:t.handleClick,attributes:{className:"custom-root"},children:"Move to ".concat(e[1])},a)}))]})})}}]),a}(s.a.Component),T=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).state={tasks:i.props.tasks},i.handleClickDelete=i.handleClickDelete.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"handleClickDelete",value:function(t){t.stopPropagation(),this.props.deleteTask(t.currentTarget.id,this.props.columnId)}},{key:"render",value:function(){var t=this;return Object(i.jsx)(v.c,{droppableId:this.props.columnId,type:"droppableSubItem",children:function(e,a){return Object(i.jsxs)("div",{className:"vertical-scroll",ref:e.innerRef,style:(a.isDraggingOver,{background:"rgb(235,235,235)",border:"1px solid rgb(225,225,225)",padding:"0.5rem 0"}),children:[t.props.tasks.map((function(e,a){return Object(i.jsx)(v.b,{draggableId:e.id,index:a,children:function(n,s){return Object(i.jsxs)("div",{children:[Object(i.jsx)(f.b,{id:e.id,holdToDisplay:500,children:Object(i.jsxs)("div",Object(k.a)(Object(k.a)(Object(k.a)({className:"shadow-sm",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{style:(l=s.isDragging,o=n.draggableProps.style,Object(k.a)({background:l?"lightgreen":"white",padding:"1rem",margin:"1rem",borderRadius:"10px"},o)),id:e.id,onClick:t.handleClickItem,children:[Object(i.jsx)("button",{type:"button",className:"close pink-hover",id:e.id,onClick:t.handleClickDelete,children:Object(i.jsx)("span",{children:"\xd7"})}),Object(i.jsx)(O,{id:e.id,title:e.title,content:e.content,changeItems:t.props.changeItems,imageBase64String:e.imageBase64String},e.id),Object(i.jsx)("div",{className:"details",onClick:function(){t.props.getTaskDetails(e)},children:Object(i.jsx)("i",{className:"fas fa-search-plus"})})]}))}),Object(i.jsx)(C,{id:e.id,index:a,columnId:t.props.columnId,columnList:t.props.columnList,delete:t.props.deleteTask,moveTo:t.props.moveTo}),n.placeholder]});var l,o}},e.id)})),e.placeholder]})}})}}]),a}(s.a.Component),x=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).state={columnEditing:!1,title:i.props.title,tasks:i.props.tasks,columnId:i.props.columnId},i.editColInputs=i.editColInputs.bind(Object(r.a)(i)),i.doneEditingCol=i.doneEditingCol.bind(Object(r.a)(i)),i.handleChange=i.handleChange.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"editColInputs",value:function(){this.setState({columnEditing:!0})}},{key:"doneEditingCol",value:function(){this.setState({columnEditing:!1})}},{key:"handleChange",value:function(t){var e=t.target.value;this.setState(Object(p.a)({},t.target.id,e)),this.props.changeColumnTitle(this.props.columnId,e)}},{key:"render",value:function(){var t,e,a=this,n=this.props,s=n.tasks,l=n.columnId,o=n.parentProvided,c=n.parentSnapshot,d=n.deleteTask;return Object(i.jsxs)("div",{className:"column-dimensions mx-3",children:[Object(i.jsxs)("div",Object(k.a)(Object(k.a)({className:"shadow rounded",ref:o.innerRef},o.draggableProps),{},{style:(t=c.isDragging,e=o.draggableProps.style,Object(k.a)({background:t?"lightgreen":"lightblue"},e)),children:[Object(i.jsx)("div",{className:"d-flex justify-content-end",children:Object(i.jsx)("i",{className:"pink-hover mt-2 mr-2 fas fa-times-circle",onClick:function(){a.props.deleteColumn(a.props.columnId)}})}),Object(i.jsx)("header",Object(k.a)(Object(k.a)({className:"mx-0 w-100 d-flex justify-content-center"},o.dragHandleProps),{},{children:this.state.columnEditing?Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{id:"title",type:"text",className:"w-100 border-noborder",value:this.state.title,onChange:this.handleChange}),Object(i.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:function(){return a.doneEditingCol()},children:"Done"})]}):Object(i.jsx)("h4",{className:"pt-1 pb-2",onClick:this.editColInputs,children:this.state.title})})),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("i",{onClick:function(){return a.props.addTask(l)},className:"fas fa-plus mb-2 add-task"})}),Object(i.jsx)(T,{tasks:s,columnId:l,changeItems:this.props.changeItems,columnList:this.props.columnList,deleteTask:d,getTaskDetails:this.props.getTaskDetails,moveTo:this.props.moveTo})]})),o.placeholder]})}}]),a}(s.a.Component),S=[{title:"Todo",id:"C100000",tasks:[]},{title:"In-Progress",id:"C100001",tasks:[]},{title:"Complete",id:"C100002",tasks:[]}],y=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).state={displayLanding:!0,showModal:!1,selectedTaskDetails:{id:"",title:"",description:"",imageBase64String:""},items:null},i.closeModal=i.closeModal.bind(Object(r.a)(i)),i.getTaskDetails=i.getTaskDetails.bind(Object(r.a)(i)),i.reorder=i.reorder.bind(Object(r.a)(i)),i.onDragEnd=i.onDragEnd.bind(Object(r.a)(i)),i.addColumn=i.addColumn.bind(Object(r.a)(i)),i.addTask=i.addTask.bind(Object(r.a)(i)),i.changeItems=i.changeItems.bind(Object(r.a)(i)),i.deleteColumn=i.deleteColumn.bind(Object(r.a)(i)),i.deleteTask=i.deleteTask.bind(Object(r.a)(i)),i.changeColumnTitle=i.changeColumnTitle.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.loadTaskDataFromLocalStorage()}},{key:"changeItems",value:function(t,e){for(var a=this.state.items.slice(),i=0;i<a.length;i++)for(var n=0;n<a[i].tasks.length;n++)t===a[i].tasks[n].id&&(a[i].tasks[n]=e);this.setState({items:a}),this.saveTaskDataToLocalStorage()}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"changeColumnTitle",value:function(t,e){var a=Object(g.a)(this.state.items);a.forEach((function(a){a.id===t&&(a.title=e)})),this.setState({items:a}),this.saveTaskDataToLocalStorage()}},{key:"getColumnList",value:function(){var t=[];return this.state.items.map((function(e){var a=[];return a[0]=e.id,a[1]=e.title,t.push(a),!0})),t}},{key:"getTaskDetails",value:function(t){this.setState({selectedTaskDetails:{id:t.id,title:t.title,description:t.content,imageBase64String:t.imageBase64String},showModal:!0})}},{key:"reorder",value:function(t,e,a){var i=Array.from(t),n=i.splice(e,1),s=Object(b.a)(n,1)[0];return i.splice(a,0,s),i}},{key:"onDragEnd",value:function(t){if(t.destination){var e=t.source.index,a=t.destination.index;if("droppableItem"===t.type){var i=this.reorder(this.state.items,e,a);this.setState({items:i})}else if("droppableSubItem"===t.type){var n=this.state.items.reduce((function(t,e){return t[e.id]=e.tasks,t}),{}),s=t.source.droppableId,l=t.destination.droppableId,o=n[s],c=n[l],d=Object(g.a)(this.state.items);if(s===l){var r=this.reorder(o,e,a);d=d.map((function(t){return t.id===s&&(t.tasks=r),t})),this.setState({items:d})}else{var h=Object(g.a)(o),u=h.splice(e,1),m=Object(b.a)(u,1)[0],p=Object(g.a)(c);p.splice(a,0,m),d=d.map((function(t){return t.id===s?t.tasks=h:t.id===l&&(t.tasks=p),t})),this.setState({items:d})}}this.saveTaskDataToLocalStorage()}}},{key:"saveTaskDataToLocalStorage",value:function(){localStorage.setItem("team-overeact-task-data",JSON.stringify(this.state.items))}},{key:"loadTaskDataFromLocalStorage",value:function(){var t=JSON.parse(localStorage.getItem("team-overeact-task-data"));window.localStorage&&t?this.setState({items:t}):this.setState({items:S})}},{key:"addColumn",value:function(t){t.preventDefault();var e=this.state.items.slice();e.push({id:"C".concat(Date.now()),title:"New Column",tasks:[]}),this.setState((function(t){return{items:e}})),this.saveTaskDataToLocalStorage()}},{key:"deleteColumn",value:function(t){for(var e=this.state.items.slice(),a=0;a<e.length;a++)e[a].id===t&&e.splice(a,1);this.setState({items:e}),this.saveTaskDataToLocalStorage()}},{key:"addTask",value:function(t){var e=this.state.items.slice();e.filter((function(e){return e.id===t}))[0].tasks.push({title:"Added Task",id:"T".concat(Date.now()),content:"Enter Description Here"}),this.setState((function(t){return{items:e}})),this.saveTaskDataToLocalStorage()}},{key:"deleteTask",value:function(t,e){var a=this,i=Object(g.a)(this.state.items);i.filter((function(n,s){if(n.id===e){var l=i[s].tasks.findIndex((function(e){return e.id===t}));return i[s].tasks.splice(l,1),a.setState({items:i}),!0}return!1})),this.saveTaskDataToLocalStorage()}},{key:"render",value:function(){var t=this;return this.state.items?Object(i.jsxs)("div",{children:[Object(i.jsx)(v.a,{onDragEnd:this.onDragEnd,children:Object(i.jsx)(v.c,{droppableId:"droppable",type:"droppableItem",mode:"virtual",direction:"horizontal",children:function(e,a){return Object(i.jsxs)("div",{className:"d-flex horizontal-scroll mt-5 pt-5",ref:e.innerRef,style:(a.isDraggingOver,{background:"white"}),children:[t.state.items.map((function(e,a){return Object(i.jsx)(v.b,{draggableId:e.id,index:a,children:function(a,n){return Object(i.jsx)(x,{title:e.title,tasks:e.tasks,columnId:e.id,columnList:t.getColumnList(),parentProvided:a,parentSnapshot:n,addTask:t.addTask,getTaskDetails:t.getTaskDetails,deleteTask:t.deleteTask,deleteColumn:t.deleteColumn,moveTo:t.onDragEnd,changeItems:t.changeItems,changeColumnTitle:t.changeColumnTitle})}},e.id)})),Object(i.jsx)("div",{onClick:t.addColumn,className:"add-column",children:Object(i.jsx)("i",{className:"fa fa-plus-circle fa-lg zoom mt-2 mr-3","aria-hidden":"true"})}),e.placeholder]})}})}),this.state.showModal?Object(i.jsx)(j,{closeModal:this.closeModal,title:this.state.selectedTaskDetails.title,description:this.state.selectedTaskDetails.description,imageBase64String:this.state.selectedTaskDetails.imageBase64String,id:this.state.selectedTaskDetails.id,changeItems:this.changeItems}):null]}):Object(i.jsx)(i.Fragment,{})}}]),a}(s.a.Component);var I=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(c.a)(this,a),(i=e.call(this,t)).state={displayLanding:!0},i.handleDisplay=i.handleDisplay.bind(Object(r.a)(i)),i}return Object(d.a)(a,[{key:"handleDisplay",value:function(){this.setState({displayLanding:!this.state.displayLanding})}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(m,{}),Object(i.jsx)(y,{})]})}}]),a}(s.a.Component),D=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,36)).then((function(e){var a=e.getCLS,i=e.getFID,n=e.getFCP,s=e.getLCP,l=e.getTTFB;a(t),i(t),n(t),s(t),l(t)}))};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root")),D()}},[[35,1,2]]]);
//# sourceMappingURL=main.62cf5db3.chunk.js.map